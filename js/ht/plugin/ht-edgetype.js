!function(t){"use strict";function j(t,Q){return $(t,Q).width}function i(t,Q){return $(t,Q).height}function b(t,Q){return D.getEdgeHostPosition(t,Q,"source")}function I(t,Q){return D.getEdgeHostPosition(t,Q,"target")}function W(t,Q){var D=t.s(h),V=t.getEdgeGroup();if(V){var A=0;if(V.eachSiblingEdge(function(t){Q.isVisible(t)&&t.s(h)==D&&A++}),1<A)return t.s(l)*(A-1)/2}return 0}function r(D,V){var A=D.s(h),t=D.isLooped();if(!D.getEdgeGroup())return t?D.s(l):0;var Y,s=0,H=0,c=0;return D.getEdgeGroup().getSiblings().each(function(t){t.each(function(t){var Q;t._40I===D._40I&&t.s(h)==A&&V.isVisible(t)&&(Q=t.s(l),c=(Y?H+=c/2+Q/2:Y=t,Q),t===D&&(s=H))})}),t?H-s+c:s-H/2}function _(t,Q){return Q=Q.s("edge.corner.radius"),q.toRoundedCorner(t,Q)}function s(A,t,Y,s,Q,D){if(Q.sort(function(t,Q){var D=t.getSourceAgent()===Y?t.getTargetAgent():t.getSourceAgent(),V=Q.getSourceAgent()===Y?Q.getTargetAgent():Q.getSourceAgent(),D=D instanceof u.Edge?O(A,D):D.p(),V=V instanceof u.Edge?O(A,V):V.p();if(s===C||s===U){if(D.y>V.y)return 1;if(D.y<V.y)return-1}else{if(D.x>V.x)return 1;if(D.x<V.x)return-1}return q.sortFunc(t.getId(),Q.getId())}),D){for(var V,H,c,h=t.getSourceAgent(),m=t.getTargetAgent(),w=0;w<Q.size();w++){var P=Q.get(w);P.getSourceAgent()===h&&P.getTargetAgent()===m||P.getTargetAgent()===h&&P.getSourceAgent()===m?(H=H||new J).add(P,0):(H?c=c||new J:V=V||new J).add(P)}Q.clear(),V&&Q.addAll(V),H&&Q.addAll(H),c&&Q.addAll(c)}var D=Q.indexOf(t),g=Q.size(),t=t.s(l);return{side:s,index:D,size:g,offset:-t*(g-1)/2+t*D}}function g(Q,t,D,V,A){var Y=t.s(h);return s(Q,t,D,V,D.getAgentEdges().toList(function(t){return Q.isVisible(t)&&t.s(h)===Y}),A)}function Y(t,Q,D){return Q=Q.getSourceAgent()===D?Q.getTargetAgent():Q.getSourceAgent(),D=D instanceof u.Edge?O(t,D):D.p(),Q=(t=Q instanceof u.Edge?O(t,Q):Q.p()).x-D.x,t=t.y-D.y,0<Q&&B(t)<=Q?U:Q<0&&B(t)<=-Q?C:0<t&&B(Q)<=t?F:y}function R(Q,t,D){var V=t.s(h),A=Y(Q,t,D);return s(Q,t,D,A,D.getAgentEdges().toList(function(t){return Q.isVisible(t)&&t.s(h)===V&&Y(Q,t,D)===A}))}function H(t,Q,D){var V=Q.getSourceAgent()===D,Q=V?Q.getTargetAgent():Q.getSourceAgent(),A=D instanceof u.Edge,Y=Q instanceof u.Edge,A=A?O(t,D):D.p(),D=Y?O(t,Q):Q.p();return V?A.y>D.y?y:F:A.x<D.x?U:C}function A(Q,t,D){var V=t.s(h),A=H(Q,t,D);return s(Q,t,D,A,D.getAgentEdges().toList(function(t){return Q.isVisible(t)&&t.s(h)===V&&H(Q,t,D)===A}),A===U||A===F)}function c(t,Q,D){var V=Q.getSourceAgent()===D,Q=V?Q.getTargetAgent():Q.getSourceAgent(),A=D instanceof u.Edge,Y=Q instanceof u.Edge,A=A?O(t,D):D.p(),D=Y?O(t,Q):Q.p();return V?A.x<D.x?U:C:A.y>D.y?y:F}function m(Q,t,D){var V=t.s(h),A=c(Q,t,D);return s(Q,t,D,A,D.getAgentEdges().toList(function(t){return Q.isVisible(t)&&t.s(h)===V&&c(Q,t,D)===A}),A===U||A===F)}function V(t,Q,D){var V=t.getSourceAgent(),A=t.getTargetAgent(),Y=V.getId()>A.getId(),s=Y?A:V,V=Y?V:A,A=s instanceof u.Edge,H=V instanceof u.Edge,c=A?O(Q,s):s.p(),h=H?O(Q,V):V.p(),m=D(Q,t,s),D=D(Q,t,V),w=(g=t.s(G))||A?0:j(Q,s)/2,P=g||H?0:j(Q,V)/2,A=g||A?0:i(Q,s)/2,s=g||H?0:i(Q,V)/2,g=m.offset,H=D.offset,Q=m.side,V=D.side,m=new J;return Q===y?(m.add({x:c.x+g,y:c.y-A}),m.add({x:c.x+g,y:h.y+H}),V===C?m.add({x:h.x-P,y:h.y+H}):m.add({x:h.x+P,y:h.y+H})):Q===F?(m.add({x:c.x+g,y:c.y+A}),m.add({x:c.x+g,y:h.y+H}),V===C?m.add({x:h.x-P,y:h.y+H}):m.add({x:h.x+P,y:h.y+H})):Q===C?(m.add({x:c.x-w,y:c.y+g}),m.add({x:h.x+H,y:c.y+g}),V===F?m.add({x:h.x+H,y:h.y+s}):m.add({x:h.x+H,y:h.y-s})):Q===U&&(m.add({x:c.x+w,y:c.y+g}),m.add({x:h.x+H,y:c.y+g}),V===F?m.add({x:h.x+H,y:h.y+s}):m.add({x:h.x+H,y:h.y-s})),Y&&m.reverse(),_(m,t)}var u=t.ht,t=Math,z=t.max,S=t.min,B=t.abs,v=t.atan2,E=(t.cos,t.sin,t.ceil),q=u.Default,D=q.getInternal(),J=u.List,x=D.Mat,$=D.getNodeRect,f=D.intersectionLineRect,N=q.getDistance,t=q.setEdgeType,Q=(q.unionRect,q._edgeProtectMethod),w=Q.getStraightLinePoints,P=Q.getPercentPosition,C="left",U="right",y="top",F="bottom",h="edge.type",l="edge.gap",G="edge.center",k="edge.extend",O=function(t,Q){t=t.getDataUI(Q),Q=w(t);return P(Q,50)};D.addMethod(u.Style,{"edge.ripple.elevation":-20,"edge.ripple.size":1,"edge.ripple.both":!1,"edge.ripple.straight":!1,"edge.ripple.length":-1,"edge.corner.radius":-1,"edge.ortho":.5,"edge.flex":20,"edge.extend":20},!0),t("boundary",function(t,Q,D,V){V||(Q=-Q);var V=b(D,t),A=I(D,t),Y=t._40I,t=t._41I,s=Y instanceof u.Edge,H=t instanceof u.Edge,c=new x(v(A.y-V.y,A.x-V.x)),h=N(V,A),m=V.x,w=V.y,P=c.tf(0,Q),V={x:P.x+m,y:P.y+w},A={x:(P=c.tf(h,Q)).x+m,y:P.y+w};return s?V={x:(P=O(D,Y)).x,y:P.y}:(c=$(D,Y),(P=f(V,A,c))&&(V={x:P[0],y:P[1]})),H?A={x:(P=O(D,t)).x,y:P.y}:(h=$(D,t),(P=f(V,A,h))&&(A={x:P[0],y:P[1]})),{points:new J([V,A])}}),t("ripple",function(t,Q,D,V){V||(Q=-Q);var A=b(D,t),D=I(D,t),Y=N(A,D),s=S(t.s("edge.offset"),Y/2),H=t.s("edge.ripple.size"),c=t.s("edge.ripple.length"),h=t.s("edge.ripple.both"),m=t.s(G),w=t.s("edge.ripple.elevation"),P=new J,g=t.s("edge.ripple.straight")?null:new J,z=new x(v(D.y-A.y,D.x-A.x)),r=(V||(w=-w),(Y-=2*s)/(H=0<c?E(Y/c):H));g&&g.add(1);for(var q=0;q<H;q++)g&&g.add(3),0===q?P.add({x:s+r*q,y:m?0:Q}):P.add({x:s+r*q,y:Q}),P.add({x:s+r*q+r/2,y:w+Q}),h&&(w=-w);for(P.add({x:s+Y,y:m?0:Q}),q=0;q<P.size();q++){var W=z.tf(P.get(q));W.x+=A.x,W.y+=A.y,P.set(q,W)}return{points:P,segments:g}}),t("h.v",function(t,Q,D){Q=r(t,D);var V=new J,A=t.s(G),Y=b(D,t),s=Y.x,Y=Y.y,H=I(D,t),c=H.x,H=H.y,h=t._40I instanceof u.Edge,m=t._41I instanceof u.Edge,w=0,P=0,g=c-s,z=H-Y;return A||(w=h?0:j(D,t._40I)/2,P=m?0:i(D,t._41I)/2),0<=g&&z<=0?(V.add({x:s+w,y:Y+Q}),V.add({x:c+Q,y:Y+Q}),V.add({x:c+Q,y:H+P})):g<=0&&0<=z?(V.add({x:s-w,y:Y+Q}),V.add({x:c+Q,y:Y+Q}),V.add({x:c+Q,y:H-P})):0<=g&&0<=z?(V.add({x:s+w,y:Y+Q}),V.add({x:c-Q,y:Y+Q}),V.add({x:c-Q,y:H-P})):(V.add({x:s-w,y:Y+Q}),V.add({x:c-Q,y:Y+Q}),V.add({x:c-Q,y:H+P})),_(V,t)}),t("v.h",function(t,Q,D){Q=r(t,D);var V=new J,A=t.s(G),Y=b(D,t),s=Y.x,Y=Y.y,H=I(D,t),c=H.x,H=H.y,h=t._40I instanceof u.Edge,m=t._41I instanceof u.Edge,w=0,P=0,g=c-s,z=H-Y;return A||(w=m?0:j(D,t._41I)/2,P=h?0:i(D,t._40I)/2),0<=g&&z<=0?(V.add({x:s+Q,y:Y-P}),V.add({x:s+Q,y:H+Q}),V.add({x:c-w,y:H+Q})):g<=0&&0<=z?(V.add({x:s+Q,y:Y+P}),V.add({x:s+Q,y:H+Q}),V.add({x:c+w,y:H+Q})):0<=g&&0<=z?(V.add({x:s-Q,y:Y+P}),V.add({x:s-Q,y:H+Q}),V.add({x:c-w,y:H+Q})):(V.add({x:s-Q,y:Y-P}),V.add({x:s-Q,y:H+Q}),V.add({x:c+w,y:H+Q})),_(V,t)}),t("ortho",function(t,Q,D){var V=new J,A=t.s(G),Y=t.s("edge.ortho"),s=t._40I,H=t._41I,c=b(D,t),h=c.x,c=c.y,m=I(D,t),w=m.x,m=m.y,P=w-h,g=m-c,z=s instanceof u.Edge,r=H instanceof u.Edge,q=A||z?0:j(D,s)/2,z=A||z?0:i(D,s)/2,s=A||r?0:j(D,H)/2,A=A||r?0:i(D,H)/2,r=(P-(q+s)*(0<P?1:-1))*Y,D=(g-(z+A)*(0<g?1:-1))*Y;return B(P)<B(g)?0<=P&&g<=0?(V.add({x:h+Q,y:c-z}),V.add({x:h+Q,y:c+D+Q-z}),V.add({x:w+Q,y:c+D+Q-z}),V.add({x:w+Q,y:m+A})):P<=0&&0<=g?(V.add({x:h+Q,y:c+z}),V.add({x:h+Q,y:c+D+Q+z}),V.add({x:w+Q,y:c+D+Q+z}),V.add({x:w+Q,y:m-A})):0<=P&&0<=g?(V.add({x:h+Q,y:c+z}),V.add({x:h+Q,y:c+D-Q+z}),V.add({x:w+Q,y:c+D-Q+z}),V.add({x:w+Q,y:m-A})):(V.add({x:h+Q,y:c-z}),V.add({x:h+Q,y:c+D-Q-z}),V.add({x:w+Q,y:c+D-Q-z}),V.add({x:w+Q,y:m+A})):0<=P&&g<=0?(V.add({x:h+q,y:c+Q}),V.add({x:h+r+Q+q,y:c+Q}),V.add({x:h+r+Q+q,y:m+Q}),V.add({x:w-s,y:m+Q})):P<=0&&0<=g?(V.add({x:h-q,y:c+Q}),V.add({x:h+r+Q-q,y:c+Q}),V.add({x:h+r+Q-q,y:m+Q}),V.add({x:w+s,y:m+Q})):0<=P&&0<=g?(V.add({x:h+q,y:c+Q}),V.add({x:h+r-Q+q,y:c+Q}),V.add({x:h+r-Q+q,y:m+Q}),V.add({x:w-s,y:m+Q})):(V.add({x:h-q,y:c+Q}),V.add({x:h+r-Q-q,y:c+Q}),V.add({x:h+r-Q-q,y:m+Q}),V.add({x:w+s,y:m+Q})),_(V,t)}),t("flex",function(t,Q,D){var V=new J,A=t.s("edge.flex")+W(t,D),Y=t.s(G),s=t._40I,H=t._41I,c=b(D,t),h=c.x,c=c.y,m=I(D,t),w=m.x,m=m.y,P=s instanceof u.Edge,g=H instanceof u.Edge,z=w-h,r=m-c,q=Y||P?0:j(D,s)/2,P=Y||P?0:i(D,s)/2,s=Y||g?0:j(D,H)/2,Y=Y||g?0:i(D,H)/2,g=0<z?A:-A,D=0<r?A:-A;return B(z)<B(r)?0<=z&&r<=0?(V.add({x:h+Q,y:c-P}),V.add({x:h+Q,y:c+D+Q-P}),V.add({x:w+Q,y:m-D+Q+Y}),V.add({x:w+Q,y:m+Y})):z<=0&&0<=r?(V.add({x:h+Q,y:c+P}),V.add({x:h+Q,y:c+D+Q+P}),V.add({x:w+Q,y:m-D+Q-Y}),V.add({x:w+Q,y:m-Y})):0<=z&&0<=r?(V.add({x:h+Q,y:c+P}),V.add({x:h+Q,y:c+D-Q+P}),V.add({x:w+Q,y:m-D-Q-Y}),V.add({x:w+Q,y:m-Y})):(V.add({x:h+Q,y:c-P}),V.add({x:h+Q,y:c+D-Q-P}),V.add({x:w+Q,y:m-D-Q+Y}),V.add({x:w+Q,y:m+Y})):0<=z&&r<=0?(V.add({x:h+q,y:c+Q}),V.add({x:h+g+Q+q,y:c+Q}),V.add({x:w-g+Q-s,y:m+Q}),V.add({x:w-s,y:m+Q})):z<=0&&0<=r?(V.add({x:h-q,y:c+Q}),V.add({x:h+g+Q-q,y:c+Q}),V.add({x:w-g+Q+s,y:m+Q}),V.add({x:w+s,y:m+Q})):0<=z&&0<=r?(V.add({x:h+q,y:c+Q}),V.add({x:h+g-Q+q,y:c+Q}),V.add({x:w-g-Q-s,y:m+Q}),V.add({x:w-s,y:m+Q})):(V.add({x:h-q,y:c+Q}),V.add({x:h+g-Q-q,y:c+Q}),V.add({x:w-g-Q+s,y:m+Q}),V.add({x:w+s,y:m+Q})),_(V,t)}),t("extend.east",function(t,Q,D){var V=new J,A=t.s(k)+W(t,D),Y=t.s(G),s=b(D,t),H=t._40I instanceof u.Edge,c=t._41I instanceof u.Edge,H=s.x+(Y||H?0:j(D,t._40I)/2),s=s.y,h=I(D,t),Y=h.x+(Y||c?0:j(D,t._41I)/2),c=h.y,D=z(H,Y)+A;return c<s?(V.add({x:H,y:s+Q}),V.add({x:D+Q,y:s+Q}),V.add({x:D+Q,y:c-Q}),V.add({x:Y,y:c-Q})):(V.add({x:H,y:s-Q}),V.add({x:D+Q,y:s-Q}),V.add({x:D+Q,y:c+Q}),V.add({x:Y,y:c+Q})),_(V,t)}),t("extend.west",function(t,Q,D){var V=new J,A=t.s(k)+W(t,D),Y=t.s(G),s=t._40I instanceof u.Edge,H=t._41I instanceof u.Edge,c=b(D,t),s=c.x-(Y||s?0:j(D,t._40I)/2),c=c.y,h=I(D,t),Y=h.x-(Y||H?0:j(D,t._41I)/2),H=h.y,D=S(s,Y)-A;return H<c?(V.add({x:s,y:c+Q}),V.add({x:D-Q,y:c+Q}),V.add({x:D-Q,y:H-Q}),V.add({x:Y,y:H-Q})):(V.add({x:s,y:c-Q}),V.add({x:D-Q,y:c-Q}),V.add({x:D-Q,y:H+Q}),V.add({x:Y,y:H+Q})),_(V,t)}),t("extend.north",function(t,Q,D){var V=new J,A=t.s(k)+W(t,D),Y=t.s(G),s=t._40I instanceof u.Edge,H=t._41I instanceof u.Edge,c=b(D,t),h=c.x,c=c.y-(Y||s?0:i(D,t._40I)/2),s=I(D,t),m=s.x,s=s.y-(Y||H?0:i(D,t._41I)/2),Y=S(c,s)-A;return m<h?(V.add({y:c,x:h+Q}),V.add({y:Y-Q,x:h+Q}),V.add({y:Y-Q,x:m-Q}),V.add({y:s,x:m-Q})):(V.add({y:c,x:h-Q}),V.add({y:Y-Q,x:h-Q}),V.add({y:Y-Q,x:m+Q}),V.add({y:s,x:m+Q})),_(V,t)}),t("extend.south",function(t,Q,D){var V=new J,A=t.s(k)+W(t,D),Y=t.s(G),s=t._40I instanceof u.Edge,H=t._41I instanceof u.Edge,c=b(D,t),h=c.x,c=c.y+(Y||s?0:i(D,t._40I)/2),s=I(D,t),m=s.x,s=s.y+(Y||H?0:i(D,t._41I)/2),Y=z(c,s)+A;return m<h?(V.add({y:c,x:h+Q}),V.add({y:Y+Q,x:h+Q}),V.add({y:Y+Q,x:m-Q}),V.add({y:s,x:m-Q})):(V.add({y:c,x:h-Q}),V.add({y:Y+Q,x:h-Q}),V.add({y:Y+Q,x:m+Q}),V.add({y:s,x:m+Q})),_(V,t)});t("ortho2",function(t,Q,D,V){var A,Y,s=t.s(G),H=t.s("edge.ortho"),c=t.getSourceAgent(),h=t.getTargetAgent(),m=c.getId()>h.getId(),w=m?h:c,c=m?c:h,h=w instanceof u.Edge,P=c instanceof u.Edge,g=h?O(D,w):w.p(),z=P?O(D,c):c.p(),r=R(D,t,w),q=R(D,t,c),W=s||h?0:j(D,w)/2,h=s||h?0:i(D,w)/2,w=s||P?0:j(D,c)/2,s=s||P?0:i(D,c)/2,P=new J,D=r.offset,c=q.offset,q=r.side;return q===U?(A=z.y>g.y?-D:D,Y=g.x+W+(z.x-w-g.x-W)*H,P.add({x:g.x+W,y:g.y+D}),P.add({x:Y+A,y:g.y+D}),P.add({x:Y+A,y:z.y+c}),P.add({x:z.x-w,y:z.y+c})):q===C?(A=z.y>g.y?-D:D,Y=g.x-W-(g.x-W-z.x-w)*H,P.add({x:g.x-W,y:g.y+D}),P.add({x:Y-A,y:g.y+D}),P.add({x:Y-A,y:z.y+c}),P.add({x:z.x+w,y:z.y+c})):q===F?(A=z.x>g.x?-D:D,Y=g.y+h+(z.y-s-g.y-h)*H,P.add({x:g.x+D,y:g.y+h}),P.add({x:g.x+D,y:Y+A}),P.add({x:z.x+c,y:Y+A}),P.add({x:z.x+c,y:z.y-s})):q===y&&(A=z.x>g.x?-D:D,Y=g.y-h-(g.y-h-z.y-s)*H,P.add({x:g.x+D,y:g.y-h}),P.add({x:g.x+D,y:Y-A}),P.add({x:z.x+c,y:Y-A}),P.add({x:z.x+c,y:z.y+s})),m&&P.reverse(),_(P,t)},!0),t("flex2",function(t,Q,D,V){var A,Y=t.getSourceAgent(),s=t.getTargetAgent(),H=Y.getId()>s.getId(),c=H?s:Y,Y=H?Y:s,s=c instanceof u.Edge,h=Y instanceof u.Edge,m=s?O(D,c):c.p(),w=h?O(D,Y):Y.p(),P=R(D,t,c),g=R(D,t,Y),z=t.s(G),r=t.s("edge.flex")+(P.size-1)/2*t.s(l),q=z||s?0:j(D,c)/2,s=z||s?0:i(D,c)/2,c=z||h?0:j(D,Y)/2,z=z||h?0:i(D,Y)/2,h=new J,D=P.offset,Y=g.offset,g=P.side;return g===U?(A=w.y>m.y?-D:D,h.add({x:m.x+q,y:m.y+D}),h.add({x:m.x+q+r+A,y:m.y+D}),h.add({x:w.x-c-r+A,y:w.y+Y}),h.add({x:w.x-c,y:w.y+Y})):g===C?(A=w.y>m.y?-D:D,h.add({x:m.x-q,y:m.y+D}),h.add({x:m.x-q-r-A,y:m.y+D}),h.add({x:w.x+c+r-A,y:w.y+Y}),h.add({x:w.x+c,y:w.y+Y})):g===F?(A=w.x>m.x?-D:D,h.add({x:m.x+D,y:m.y+s}),h.add({x:m.x+D,y:m.y+s+r+A}),h.add({x:w.x+Y,y:w.y-z-r+A}),h.add({x:w.x+Y,y:w.y-z})):g===y&&(A=w.x>m.x?-D:D,h.add({x:m.x+D,y:m.y-s}),h.add({x:m.x+D,y:m.y-s-r-A}),h.add({x:w.x+Y,y:w.y+z+r-A}),h.add({x:w.x+Y,y:w.y+z})),H&&h.reverse(),_(h,t)},!0),t("extend.north2",function(t,Q,D){var V=t.getSourceAgent(),A=t.getTargetAgent(),Y=V.getId()>A.getId(),s=Y?A:V,V=Y?V:A,A=s instanceof u.Edge,H=V instanceof u.Edge,c=A?O(D,s):s.p(),h=H?O(D,V):V.p(),m=g(D,t,s,y),w=g(D,t,V,y,!0),P=t.s(G),A=P||A?0:i(D,s)/2,s=P||H?0:i(D,V)/2,P=m.offset,H=w.offset,D=t.s(k)+(m.size-1)/2*t.s(l),V=S(c.y-A,h.y-s)-D+(c.x<h.x?P:-P),w=new J;return w.add({x:c.x+P,y:c.y-A}),w.add({x:c.x+P,y:V}),w.add({x:h.x+H,y:V}),w.add({x:h.x+H,y:h.y-s}),Y&&w.reverse(),_(w,t)},!0),t("extend.south2",function(t,Q,D){var V=t.getSourceAgent(),A=t.getTargetAgent(),Y=V.getId()>A.getId(),s=Y?A:V,V=Y?V:A,A=s instanceof u.Edge,H=V instanceof u.Edge,c=A?O(D,s):s.p(),h=H?O(D,V):V.p(),m=g(D,t,s,F),w=g(D,t,V,F,!0),P=t.s(G),A=P||A?0:i(D,s)/2,s=P||H?0:i(D,V)/2,P=m.offset,H=w.offset,D=t.s(k)+(m.size-1)/2*t.s(l),V=z(c.y+A,h.y+s)+D+(c.x>h.x?P:-P),w=new J;return w.add({x:c.x+P,y:c.y+A}),w.add({x:c.x+P,y:V}),w.add({x:h.x+H,y:V}),w.add({x:h.x+H,y:h.y+s}),Y&&w.reverse(),_(w,t)},!0),t("extend.west2",function(t,Q,D){var V=t.getSourceAgent(),A=t.getTargetAgent(),Y=V.getId()>A.getId(),s=Y?A:V,V=Y?V:A,A=s instanceof u.Edge,H=V instanceof u.Edge,c=A?O(D,s):s.p(),h=H?O(D,V):V.p(),m=g(D,t,s,y),w=g(D,t,V,y,!0),P=t.s(G),A=P||A?0:j(D,s)/2,s=P||H?0:j(D,V)/2,P=m.offset,H=w.offset,D=t.s(k)+(m.size-1)/2*t.s(l),V=S(c.x-A,h.x-s)-D+(c.y<h.y?P:-P),w=new J;return w.add({x:c.x-A,y:c.y+P}),w.add({x:V,y:c.y+P}),w.add({x:V,y:h.y+H}),w.add({x:h.x-s,y:h.y+H}),Y&&w.reverse(),_(w,t)},!0),t("extend.east2",function(t,Q,D){var V=t.getSourceAgent(),A=t.getTargetAgent(),Y=V.getId()>A.getId(),s=Y?A:V,V=Y?V:A,A=s instanceof u.Edge,H=V instanceof u.Edge,c=A?O(D,s):s.p(),h=H?O(D,V):V.p(),m=g(D,t,s,y),w=g(D,t,V,y,!0),P=t.s(G),A=P||A?0:j(D,s)/2,s=P||H?0:j(D,V)/2,P=m.offset,H=w.offset,D=t.s(k)+(m.size-1)/2*t.s(l),V=z(c.x+A,h.x+s)+D+(c.y>h.y?P:-P),w=new J;return w.add({x:c.x+A,y:c.y+P}),w.add({x:V,y:c.y+P}),w.add({x:V,y:h.y+H}),w.add({x:h.x+s,y:h.y+H}),Y&&w.reverse(),_(w,t)},!0),t("v.h2",function(t,Q,D){return V(t,D,A)},!0),t("h.v2",function(t,Q,D){return V(t,D,m)},!0)}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);