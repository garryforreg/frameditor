!function(n,_){"use strict";function D(_){return u().createElement(_)}function J(){var _=D("div");return _.tabIndex=-1,_.style.outline="none",_}function y(){return D("canvas")}function B(_,S){m(_,"-webkit-transform",S),m(_,"-ms-transform",S),m(_,"transform",S)}function m(_,S,Z){_.style.setProperty(S,Z,N)}function A(_,S){_.appendChild(S)}function S(){return u().documentElement}function l(){return S().clientWidth}function z(){return S().clientHeight}function T(_){var S=_.touches[0];return S||_.changedTouches[0]}function j(_){this.$1d=_,this.addListeners()}var i=n.ht,k="px",R="left",W="top",C="bottom",c="right",K="innerHTML",p="className",f="width",g="height",o="position",Q="absolute",I="0",Y="opacity",M="background",L=i.Default,U=L.getInternal(),Z=i.Color,O=L.animate,h=L.isTouchable,x=L.isTouchEvent,N=null,v=(Math.sqrt,n.parseInt),s=n.setTimeout,G=(Math.round,Z.titleIconBackground),u=function(){return document},F=U.addEventListener,X=U.removeEventListener;U.addMethod(L,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:G},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:G}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:G},{type:"rect",rect:[10,10,80,20],background:G}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:G},{type:"rect",rect:[10,34,56,14],background:G},{type:"rect",rect:[34,10,56,14],background:G},{type:"rect",rect:[82,10,8,56],background:G},{type:"rect",rect:[66,62,24,8],background:G}]},dialogTitleLabelColor:L.labelSelectColor,dialogTitleLabelFont:(h?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:L.labelFont,dialogTitleBackground:Z.titleBackground,dialogHeaderBackground:Z.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);L.def(j,_,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(_){var S=this,Z=S.$1d,y=Z.$6d,j=Z._config,Z=Z.$7d,U=_,n=_.target;Z.contains(n)||L.preventDefault(_),L.isLeftButton(_)&&(x(_)&&(U=T(_)),U=S.$8d={x:U.pageX,y:U.pageY},S.$9d={x:U.x,y:U.y},!j.maximized&&j.draggable&&y.contains(n)&&(S.$4d=!0,L.startDragging(S,_)),S.handle_mousemove(_)&&(S.$2d=!0,L.startDragging(S,_)),Z.contains(n)||n.focus())},handle_mousedown:function(_){this.handle_touchstart(_)},handle_touchend:function(_){if(L.isLeftButton(_)&&!this.$5d&&!this.$3d){var S=this.$1d,Z=_.target,y=S._config,j=S.$18d,U=S.$16d;for(y.closable&&j.contains(Z)&&S.hide(),y.maximizable&&U.contains(Z)&&(y.maximized?S.restore():S.maximize());Z&&(Z.className||"").indexOf("dialog-button")<0;)Z=Z.parentNode;Z&&Z.buttonItem&&S.action&&S.action(Z.buttonItem,_),delete this.$8d,delete this.$9d}},handle_mouseup:function(_){this.handle_touchend(_)},handleWindowTouchEnd:function(_){var S=this,Z=S.$1d,y=Z.$10d;S.$2d&&S.$3d?y.fire({kind:"endResize",target:Z,originEvent:_}):S.$4d&&S.$5d&&y.fire({kind:"endMove",target:Z,originEvent:_}),this.clear()},handleWindowMouseUp:function(_){this.handleWindowTouchEnd(_)},handle_mousemove:function(_){var S,Z,y=this.$1d._config;return!y.maximized&&(("w"===y.resizeMode||"h"===y.resizeMode||"wh"===y.resizeMode)&&(S={x:(S=(y=this.getView()).querySelector(".resize-area").getBoundingClientRect()).left,y:S.top,width:S.width,height:S.height},Z=(_=x(_)?T(_):_).clientX,_=_.clientY,L.containsPoint(S,{x:Z,y:_})?(m(y,"cursor","nwse-resize"),!0):void m(y,"cursor","")))},handleWindowTouchMove:function(_){_.preventDefault();var S,Z,y,j,U,n,B,Y,D,J,A=_,i=(x(_)&&(A=T(_)),this),C=i.$8d,c=i.$9d;c.x==C.x&&c.y==C.y&&L.getDistance(c,{x:A.pageX,y:A.pageY})<=1||(S=(c=i.$1d)._config,Z=c.$21d,J=S.resizeMode||"wh",Y=A.pageX-C.x,A=A.pageY-C.y,i.$2d?(y=(j=Z.offsetWidth)+Y,U=(n=Z.offsetHeight)+A,y=Math.max(y,50),U=Math.max(U,50),"center"!==S.position&&S.position!=N||(D={},B=Z.getBoundingClientRect(),D.x=B.left,D.y=B.top,S.position=D),"w"===J?(c.setSize(y,n),C.x+=y-j):"h"===J?(c.setSize(j,U),C.y+=U-n):"wh"===J&&(c.setSize(y,U),C.x+=y-j,C.y+=U-n),i.$3d?c.$10d.fire({kind:"betweenResize",target:c,originEvent:_}):(i.$3d=!0,c.$10d.fire({kind:"beginResize",target:c,originEvent:_}))):i.$4d&&(D=(B=Z.getBoundingClientRect()).width,J=B.height,y=l(),j=z(),U=v(Z.style.left)||0,n=v(Z.style.top)||0,(A=c.adjustPosition({x:B=U+Y,y:Y=n+A},{width:D,height:J},{width:y,height:j}))&&(B=A.x,Y=A.y),D=B-U,J=Y-n,m(Z,R,B+k),m(Z,W,Y+k),C.x+=D,C.y+=J,S.position={x:B,y:Y},i.$5d?c.$10d.fire({kind:"betweenMove",target:c,originEvent:_}):(i.$5d=!0,c.$10d.fire({kind:"beginMove",target:c,originEvent:_}))))},handleWindowMouseMove:function(_){this.handleWindowTouchMove(_)},handleWindowResize:function(){var _=this,S=_._config,Z=_.$21d,y=l(),j=z(),U=S.width,n=S.height,B=S.position||"center";S.maximized?(m(Z,f,y+k),m(Z,g,j+k),m(Z,W,I),m(Z,R,I)):(m(Z,f,U+k),m(Z,g,n+k),"center"===B?(m(Z,R,(y-U)/2+k),m(Z,W,(j-n)/2+k)):(m(Z,R,B.x+k),m(Z,W,B.y+k))),_.iv()},handle_mousewheel:function(_){_.stopPropagation()},handle_DOMMouseScroll:function(_){_.stopPropagation()}}),i.widget.Dialog=function(_){var S=this,Z=S._view=U.createView(null,S),Z=(Z[p]="ht-widget-dialog",m(Z,o,Q),m(Z,W,I),m(Z,C,I),m(Z,R,I),m(Z,c,I),m(Z,f,"auto"),m(Z,g,"auto"),L.baseZIndex!=N&&m(Z,"z-index",L.baseZIndex+""),S.$11d=new j(S));S.bindingHandleWindowResize=Z.handleWindowResize.bind(S),S.$10d=new i.Notifier,_&&S.setConfig(_)},G="Dialog",Z={ms_v:1,ms_fire:1,_modal:!0,setTitle:function(_){this._config.title=_,this.getView().querySelector(".dialog-container-title span").innerHTML=_},clearNodes:function(_){if(_)for(;_.firstChild;)_.removeChild(_.firstChild)},$31d:function(){var _,S=this,Z=S.$25d(),y=S.$6d=J(),j=S._config,U=S.$12d=S.$13d(),n=D("span"),B=0,Y=v(U.style.right);return y[p]="dialog-container-title",m(y,"cursor","default"),m(y,"white-space","nowrap"),m(y,"overflow","hidden"),m(y,"font",L.dialogTitleLabelFont),m(y,M,j.titleBackground||L.dialogTitleBackground),m(y,"color",j.titleColor||L.dialogTitleLabelColor),m(y,o,Q),m(y,R,I),m(y,c,I),m(y,"display","block"),m(y,"line-height",Z+k),m(y,"height",Z+k),j.titleAlign&&m(y,"text-align",j.titleAlign),j.titleIcon&&(Z=S.$14d=S.$15d(),A(y,Z),B=v(Z.style.width)+v(Z.style.marginRight)),j.title&&j.title.trim&&(j.title=j.title.trim()),n[K]=j.title||"&nbsp;",A(y,n),j.maximizable&&(Z=S.$16d=S.$17d(),A(U,Z),_=v(Z.style.marginRight),Y+=v(Z.style.width)+_),j.closable&&(Z=S.$18d=S.$19d(),A(U,Z),_=v(Z.style.marginRight),Y+=v(Z.style.width)+_),_&&(Y+=_/2),m(n,c,Y+k),m(n,R,B+k),m(n,o,Q),m(n,W,I),m(n,C,I),m(n,"text-overflow","ellipsis"),m(n,"overflow","hidden"),A(y,U),y},$13d:function(){var _=J();return m(_,o,Q),m(_,R,I),m(_,c,5+k),m(_,W,I),m(_,C,I),m(_,"text-align",c),m(_,"white-space","nowrap"),_[p]="dialog-title-controls",_},$20d:function(){var _=this.$21d=J(),S=this._config,Z=S.borderWidth;return m(_,o,"fixed"),m(_,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),m(_,"padding","0 "+Z+k+" "+Z+k+" "+Z+k),m(_,"box-sizing","border-box"),m(_,"-moz-box-sizing","border-box"),_[p]="dialog-container",m(_,M,S.titleBackground||L.dialogTitleBackground),_},$22d:function(){var _,S,Z=this._config,y=this.$7d=J(),j=Z.content,U=0,n=Z.contentPadding||0,B=(Z.buttons!=N&&0<Z.buttons.length&&(U=Z.buttonsHeight||32),"string"==typeof(B=j)||B instanceof String?y[K]=j:j.getView?(_=j.getView(),A(y,_)):A(y,_=j),m(y,o,Q),m(y,"font",L.dialogContentLabelFont),Z.width&&m(y,f,Z.width-10-2*n+k),_&&(S=_.style[o],m(_,o,"unset")),i.Default.appendToScreen(y),y.offsetWidth+1),j=y.offsetHeight,Y=this.$25d();return Z.width==N?Z.width=B+10+2*n:m(y,f,"auto"),Z.height==N&&(Z.height=j+Y+U+5+2*n),i.Default.removeHTML(y),_&&(m(_,"box-sizing","border-box"),m(_,"-moz-box-sizing","border-box"),m(_,f,"100%"),m(_,g,"100%"),S&&m(_,o,S)),y[p]="dialog-content",m(y,W,Y+n+k),m(y,C,U+n+k),m(y,R,n+k),m(y,c,n+k),m(y,"overflow","hidden"),y},getOverlayDiv:function(){return this.$41d},$23d:function(){if(this.$41d)return this.$41d;var _=this.$41d=J();return _[p]="dialog-overlay",m(_,o,Q),m(_,W,I),m(_,C,I),m(_,R,I),m(_,c,I),m(_,M,"rgba(235, 235, 235, 0.7)"),_},_config:N,setSize:function(_,S){var Z=this._config;Z&&(Z.width=_,Z.height=S,this.isShowing()&&(this.bindingHandleWindowResize(),this.iv()))},getConfig:function(){return this._config},$24d:function(){var _=this._config.titleIconSize||16;return h&&(_*=1.2),_},$25d:function(){return this._config.titleHeight||L.widgetTitleHeight},$26d:function(_){var S=this._config;m(_,"margin-right",(S.titleIconGap||(h?8:4))+k),m(_,"cursor","pointer"),m(_,"display","inline-block"),m(_,"vertical-align",W)},$27d:function(){var _=this.$30d=J(),S=h?20:10;return m(_,f,S+k),m(_,g,S+k),m(_,o,Q),m(_,C,I),m(_,c,I),_[p]="resize-area",_},$15d:function(){var _=y(),S=(_[p]="dialog-title-control dialog-title-control-icon",this.$25d()),Z=this.$24d();return this.$26d(_),U.setCanvas(_,Z,S),_},$17d:function(){var _=y(),S=(_[p]="dialog-title-control dialog-title-control-maximize",this.$25d()),Z=this.$24d();return this.$26d(_),U.setCanvas(_,Z,S),_},$19d:function(){var _=y(),S=(_[p]="dialog-title-control dialog-title-control-close",this.$25d()),Z=this.$24d();return this.$26d(_),U.setCanvas(_,Z,S),_},$28d:function(){var _=J();return m(_,M,L.dialogContentBackground||"white"),m(_,f,"100%"),m(_,g,"100%"),m(_,o,"relative"),_},$29d:function(){var n=this,B=J(),_=(m(B,"font-size",0+k),m(B,o,Q),m(B,C,I),m(B,R,I),m(B,"white-space","nowrap"),m(B,"overflow","hidden"),m(B,c,I),m(B,M,L.dialogHeaderBackground),B[p]="dialog-container-buttons",this._config),Y=_.buttonsAlign||c,S=_.buttonsHeight||32,D=0;return m(B,"text-align",Y),m(B,"line-height",S+k),n.$42d=[],_.buttons.forEach(function(S){var _,Z={};for(_ in S)Z[_]=S[_];S.background||(Z.background=L.dialogButtonBackground),S.selectBackground||(Z.selectBackground=L.dialogButtonSelectBackground),S.labelColor||(Z.labelColor=L.dialogButtonLabelColor);var y=L.createObject(i.widget.Button,Z),j=y.getView(),U=(j[p]="dialog-button "+S.className,j.buttonItem=S,n.$42d.push(y),m(j,o,"relative"),m(j,"display","inline-block"),m(j,"text-align",R),m(j,"height",24+k),h?10:5),U=(Y===R||Y===c?m(j,"margin-"+Y,U+k):0!==D&&m(j,"margin-"+R,U+k),m(j,"vertical-align","middle"),L.getTextSize(y.getLabelFont(),S.label).width+10);y.onClicked=function(_){S.action&&S.action.call(n,S,_)},m(j,f,U+k),A(B,y.getView()),D++}),B},setConfig:function(_){var S,Z,y,j,U,n,B,Y;_&&(Z=(S=this)._view,S._config=_,S.action=_.action,S.clearNodes(Z),_.borderWidth==N&&(_.borderWidth=5),Y=S.$23d(),y=S.$28d(),j=S.$31d(),U=S.$22d(),n=S.$20d(),B=S.$30d=S.$27d(),A(Z,Y),A(Z,n),A(n,y),A(y,j),A(y,U),_.buttons!=N&&0<_.buttons.length&&(Y=S.$29d(),A(y,Y)),A(n,B),_.maximized?(_.maximized=!1,S.bindingHandleWindowResize(),S.maximize(!0)):S.bindingHandleWindowResize(),S.isShowing()&&S.iv())},hide:function(){var _=this,S=_.$21d,Z=_.$41d,y=_._view;y[p]="ht-widget-dialog",O(S).duration(200).scale(.7).set(Y,I).end(function(){_.onHidden&&_.onHidden(),i.Default.removeHTML(y),_.$10d.fire({kind:"hide",target:_})}),O(Z).duration(200).set(Y,I).end(),X(n,"resize",_.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(_){this._modal=_;this.$23d().style.display=_?"block":"none";var S=this._view;m(S,f,_?"auto":I),m(S,g,_?"auto":I)},isModal:function(){return this._modal},$32d:function(){var _=this,S=_._config,Z=_.$21d;B(Z,""),_.iv(),S.maximized?_.$10d.fire({kind:"maximize",target:_}):_.$10d.fire({kind:"restore",target:_})},maximize:function(_){var S,Z,y,j=this,U=j.$21d,n=j._config;n.maximized||(n.maximized=!0,j.$33d(),j.$16d[p]="dialog-title-control dialog-title-control-minimize",Z=n.width,n=n.height,y=v(U.style.left)||0,S=v(U.style.top)||0,j.$36d=Z,j.$37d=n,j.$34d=y,j.$35d=S,Z=_?0:200,y=(n=this._view.parentNode)&&n!==document.body?this._view.parentNode.getBoundingClientRect():L.getWindowInfo(),O(U).duration(Z).set(R,y.left+k).set(W,y.top+k).set(f,y.width+k).set(g,y.height+k).end(function(){j.$32d()}))},restore:function(){var _=this,S=_.$34d,Z=_.$35d,y=_.$36d,j=_.$37d,U=_._config;U.maximized&&(U.maximized=!1,_.$33d(),_.$16d[p]="dialog-title-control dialog-title-control-maximize",_.isShowing()&&S!=N&&Z!=N&&y!=N&&j!=N&&(U=_.$21d,O(U).duration(200).set(R,S+k).set(W,Z+k).set(f,y+k).set(g,j+k).end(function(){_.$32d()}))),delete _.$34d,delete _.$35d,delete _.$36d,delete _.$37d},show:function(_){var S=this,Z=S._view,y=S._config,j=S.$21d,U=S.$41d;_=_||y.parentDOM,y&&y.zIndex!=N&&m(Z,"z-index",y.zIndex+""),_?i.Default.appendChild(_,Z):i.Default.appendToScreen(Z),B(j,"scale(0.7)"),m(j,Y,I),S.iv(),S.validate(),S._view[p]+=" dialog-show",s(function(){O(j).duration(200).scale(1).set(Y,"1").end(function(){m(j,f,j.clientWidth+k),m(j,g,j.clientHeight+k),S.onShown&&S.onShown(),S.$10d.fire({kind:"show",target:S});var _=y&&y.content;_&&_.iv&&_.iv()}),O(U).duration(200).set(Y,"1").end(),F(n,"resize",S.bindingHandleWindowResize)},30)},setPosition:function(_){var S=this.$21d;S.style.left=_.x+"px",S.style.top=_.y+"px"},addEventListener:function(_,S,Z){this.$10d.add(_,S,Z)},removeEventListener:function(_,S){this.$10d.remove(_,S)},$38d:function(_,S,Z,y){_=U.initContext(_),U.translateAndScale(_,0,0,1),_.clearRect(0,0,Z,Z),Z=(Z-y)/2;L.drawStretchImage(_,L.getImage(S),"fill",0,Z,y,y),_.restore()},$33d:function(){var _,S,Z=this,y=Z._config,j=Z.$16d,y=y.maximized?L.dialogRestoreIcon:L.dialogMaximizeIcon;j&&y&&(_=Z.$25d(),S=Z.$24d(),Z.$38d(j,L.getImage(y),_,S))},$39d:function(){var _,S,Z=this,y=Z._config,j=Z.$14d,y=y.titleIcon;j&&y&&(_=Z.$25d(),S=Z.$24d(),Z.$38d(j,L.getImage(y),_,S))},$40d:function(){var _,S,Z=this.$18d,y=L.dialogCloseIcon;Z&&y&&(_=this.$25d(),S=this.$24d(),this.$38d(Z,L.getImage(y),_,S))},invalidate:function(_){var S=this,Z=S.$42d,_=(S._68I||(S._68I=1,L.callLater(S.validate,S,N,_),S.onInvalidated&&S.onInvalidated(),S.fireViewEvent("invalidate")),S._config.content);_.invalidate&&_.invalidate(),Z&&Z.forEach(function(_){_.iv()})},validateImpl:function(){var _=this,S=(_.$40d(),_.$33d(),_.$39d(),_._config.content);S.initView&&(S.setX(0),S.setY(0),S.setWidth(_.$7d.clientWidth),S.setHeight(_.$7d.clientHeight))},adjustPosition:function(_,S,Z){var y=S.width,S=S.height,j=Z.width,Z=Z.height,U=_.x,_=_.y,n=this._config,B=n.minDragSize||20;return"inside"===n.dragMode?((U=j<U+y?j-y:U)<0&&(U=0),(_=Z<_+S?Z-S:_)<0&&(_=0)):null!=n.dragMode&&"none"!==n.dragMode||(j-B<(U=U<-y+B?-y+B:U)&&(U=j-B),(_=Z-B<_?Z-B:_)<0&&(_=0)),{x:U,y:_}}},L.def(i.widget[G],_,Z)}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);